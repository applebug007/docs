---
title: "AI Image Detection - File Upload"
openapi: "POST /predict"
---

## Overview

The `/predict` endpoint allows you to upload image files directly for AI detection analysis. This is the most straightforward method for detecting AI-generated images when you have image files on your local system.

## Request Parameters

### Form Data Parameters

<ParamField body="file" type="file" required>
  Image file to analyze for AI generation detection.
  
  **Supported formats**: JPEG, PNG, BMP, GIF, WEBP  
  **Maximum size**: 10MB  
  **Recommended size**: < 5MB for optimal performance
</ParamField>

<ParamField body="threshold" type="number" default="0.5">
  Detection sensitivity threshold (0.0 to 1.0).
  
  - **0.2**: High sensitivity, catches more AI images but may have false positives
  - **0.5**: Balanced detection (recommended for most use cases)  
  - **0.8**: High precision, fewer false positives but may miss some AI images
</ParamField>

## Response Format

<ResponseExample>

```json
{
  "likely_ai_generated": true,
  "confidence_score": 0.87,
  "processing_time_ms": 245,
  "model_info": {
    "name": "patchcraft",
    "version": "v0.1"
  },
  "image_info": {
    "width": 1024,
    "height": 1024,
    "format": "JPEG",
    "size_bytes": 245760
  }
}
```

</ResponseExample>

<ResponseField name="likely_ai_generated" type="boolean">
  Whether the image is likely AI-generated based on the threshold
</ResponseField>

<ResponseField name="confidence_score" type="number">
  AI detection confidence score (0.0 to 1.0)
  - 0.0: Definitely real/human-created
  - 1.0: Definitely AI-generated
</ResponseField>

<ResponseField name="processing_time_ms" type="number">
  Time taken to process the image in milliseconds
</ResponseField>

<ResponseField name="model_info" type="object">
  Information about the AI detection model used
  <Expandable title="model_info">
    <ResponseField name="name" type="string">
      Model name (e.g., "patchcraft")
    </ResponseField>
    <ResponseField name="version" type="string">
      Model version (e.g., "v0.1")
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="image_info" type="object">
  Metadata about the uploaded image
  <Expandable title="image_info">
    <ResponseField name="width" type="number">
      Image width in pixels
    </ResponseField>
    <ResponseField name="height" type="number">
      Image height in pixels
    </ResponseField>
    <ResponseField name="format" type="string">
      Image format (JPEG, PNG, etc.)
    </ResponseField>
    <ResponseField name="size_bytes" type="number">
      File size in bytes
    </ResponseField>
  </Expandable>
</ResponseField>



<RequestExample>

```bash cURL
# Basic detection with default threshold
curl -X POST "http://localhost:8003/predict" \
  -F "file=@sample_image.jpg"

# Detection with custom threshold
curl -X POST "http://localhost:8003/predict" \
  -F "file=@sample_image.jpg" \
  -F "threshold=0.8"
```

</RequestExample>

## Code Examples

```bash
# Basic detection with default threshold
curl -X POST "http://localhost:8003/predict" \
  -F "file=@sample_image.jpg"

# Detection with custom threshold
curl -X POST "http://localhost:8003/predict" \
  -F "file=@sample_image.jpg" \
  -F "threshold=0.8"
```

## Threshold Selection Guide

Choose the appropriate threshold based on your use case:

<CardGroup cols={3}>
  <Card title="Social Media (0.3-0.4)" icon="hashtag">
    Catch most AI content while allowing some false positives
  </Card>
  <Card title="General Purpose (0.5)" icon="balance-scale">
    Balanced accuracy for most applications
  </Card>
  <Card title="Content Moderation (0.7-0.8)" icon="shield-check">
    High precision when false positives are costly
  </Card>
</CardGroup>

## Performance Tips

<Tip>
**Optimize Upload Performance**
- Resize images to â‰¤ 2048x2048 pixels before upload
- Use JPEG format for photographs
- Use PNG for graphics with transparency
- Compress images to reduce file size
</Tip>

<Warning>
**File Size Limits**
- Maximum file size: 10MB
- Recommended: < 5MB for best performance
- Large files may timeout or cause memory issues
</Warning>

## Testing with Postman

Import the provided Postman collection to test this endpoint:

1. **Standard Test**: Upload with threshold 0.5
2. **High Sensitivity**: Upload with threshold 0.2  
3. **High Precision**: Upload with threshold 0.8
4. **Error Test**: Try uploading without file

The collection includes automated tests to verify response format and performance.
